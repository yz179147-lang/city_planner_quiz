<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>å°å°åŸå¸‚è¦åŠƒå¸«ï¼šè€è¡—å€çš„é‡ç”Ÿ</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;700&display=swap');

        :root {
            --primary-color: #00695c; /* Teal 800 */
            --secondary-color: #26a69a; /* Teal 400 */
            --accent-color: #ffca28; /* Amber 400 */
            --bg-color: #e0f2f1;
            --card-bg: #ffffff;
            --text-color: #37474f;
        }

        body {
            font-family: 'Noto Sans TC', sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            margin: 0;
            padding: 20px;
            display: flex;
            justify-content: center;
            min-height: 100vh;
            -webkit-tap-highlight-color: transparent; 
        }

        .container {
            background-color: var(--card-bg);
            width: 100%;
            max-width: 900px;
            padding: 30px;
            border-radius: 25px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.15);
            position: relative;
            padding-bottom: 60px;
        }

        h1 {
            text-align: center;
            color: var(--primary-color);
            margin-bottom: 10px;
            font-size: 2em;
            letter-spacing: 2px;
        }

        .subtitle {
            text-align: center;
            color: #78909c;
            font-size: 1em;
            margin-bottom: 30px;
            font-weight: bold;
        }

        /* é€²åº¦æ¢ */
        .progress-container {
            display: flex;
            align-items: center;
            margin-bottom: 25px;
        }

        .progress-label {
            font-size: 0.9em;
            font-weight: bold;
            color: var(--primary-color);
            margin-right: 15px;
            white-space: nowrap;
        }

        .progress-bar {
            flex-grow: 1;
            background-color: #b2dfdb;
            border-radius: 20px;
            height: 12px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--secondary-color), var(--primary-color));
            width: 0%;
            transition: width 0.6s cubic-bezier(0.4, 0, 0.2, 1);
            border-radius: 20px;
        }

        /* æƒ…å¢ƒå€å¡Š */
        .scenario-box {
            background-color: #f1f8e9;
            border-left: 6px solid var(--primary-color);
            padding: 0;
            border-radius: 15px;
            margin-bottom: 30px;
            font-size: 1.15em;
            line-height: 1.8;
            overflow: hidden;
            box-shadow: 0 4px 6px rgba(0,0,0,0.05);
        }

        .scenario-image-container {
            width: 100%;
            height: 280px;
            position: relative;
            background-color: #cfd8dc;
        }

        .scenario-image {
            width: 100%;
            height: 100%;
            object-fit: cover;
            display: block;
        }

        .scenario-content {
            padding: 25px;
        }

        .scenario-header {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 15px;
        }

        .scenario-title {
            font-weight: bold;
            color: var(--primary-color);
            font-size: 1.4em;
        }

        /* é¡Œç›®å¡ç‰‡ */
        .question-card {
            background-color: #fff;
            padding: 25px;
            margin-bottom: 20px;
            border-radius: 15px;
            border: 2px solid #eeeeee;
            transition: all 0.3s;
            box-shadow: 0 2px 5px rgba(0,0,0,0.02);
        }

        .question-card:focus-within {
            border-color: var(--secondary-color);
            box-shadow: 0 5px 15px rgba(38, 166, 154, 0.2);
            transform: translateY(-2px);
        }

        .question-text {
            font-weight: bold;
            font-size: 1.15em;
            margin-bottom: 15px;
            display: block;
            color: #263238;
        }

        .point-badge {
            display: inline-block;
            background-color: var(--accent-color);
            color: #3e2723;
            font-size: 0.8em;
            padding: 3px 10px;
            border-radius: 20px;
            margin-left: 10px;
            vertical-align: middle;
            font-weight: bold;
        }

        input[type="text"] {
            width: 100%;
            padding: 15px;
            margin-top: 5px;
            border: 2px solid #cfd8dc;
            border-radius: 10px;
            font-size: 1.1em;
            box-sizing: border-box;
            background-color: #fafafa;
            transition: all 0.3s;
            -webkit-appearance: none;
            color: #333;
        }

        input[type="text"]:focus {
            border-color: var(--secondary-color);
            background-color: #fff;
            outline: none;
        }

        /* æŒ‰éˆ• */
        .btn {
            display: block;
            width: 100%;
            padding: 18px;
            background-color: var(--primary-color);
            color: white;
            border: none;
            border-radius: 12px;
            font-size: 1.3em;
            font-weight: bold;
            cursor: pointer;
            margin-top: 40px;
            transition: transform 0.1s, background-color 0.3s, box-shadow 0.3s;
            box-shadow: 0 4px 10px rgba(0, 105, 92, 0.3);
            user-select: none;
        }

        .btn:hover {
            background-color: #004d40;
        }

        .btn:active {
            transform: scale(0.98);
        }

        .btn-next {
            background-color: var(--accent-color);
            color: #3e2723;
            display: none;
        }
        
        .btn-next:hover {
            background-color: #ffb300;
        }

        /* å›é¥‹èˆ‡çµæœ */
        .feedback {
            margin-top: 15px;
            font-weight: bold;
            padding: 15px;
            border-radius: 10px;
            display: none;
            animation: fadeIn 0.5s;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-5px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .correct {
            background-color: #e8f5e9;
            color: #2e7d32;
            border-left: 5px solid #2e7d32;
        }

        .incorrect {
            background-color: #ffebee;
            color: #c62828;
            border-left: 5px solid #c62828;
        }

        .result-screen {
            text-align: center;
            display: none;
            padding: 40px 20px;
        }

        .score-display {
            font-size: 5em;
            font-weight: 900;
            color: var(--primary-color);
            margin: 20px 0;
            text-shadow: 4px 4px 0px rgba(0,0,0,0.1);
        }

        .badge {
            font-size: 7em;
            margin-bottom: 20px;
            display: inline-block;
            animation: float 3s ease-in-out infinite;
        }

        @keyframes float {
            0% { transform: translateY(0px); }
            50% { transform: translateY(-15px); }
            100% { transform: translateY(0px); }
        }

        @media (max-width: 600px) {
            .container { padding: 20px; border-radius: 0; min-height: 100vh; }
            h1 { font-size: 1.6em; }
            .scenario-image-container { height: 200px; }
            .btn { font-size: 1.1em; padding: 15px; }
        }
    </style>
</head>
<body>

<div class="container">
    <div id="quiz-screen">
        <h1>ğŸ™ï¸ å°å°åŸå¸‚è¦åŠƒå¸«</h1>
        <p class="subtitle">Mission: è€è¡—å€çš„é‡ç”Ÿè¨ˆç•«</p>
        
        <div class="progress-container">
            <span class="progress-label" id="progress-text">Level 1/10</span>
            <div class="progress-bar">
                <div class="progress-fill" id="progress"></div>
            </div>
        </div>

        <div id="quiz-content">
            <!-- é¡Œç›®å…§å®¹å‹•æ…‹è¼‰å…¥ -->
        </div>

        <button class="btn" id="submit-btn" onclick="checkAnswers()">é€å‡ºç­”æ¡ˆ</button>
        <button class="btn btn-next" id="next-btn" onclick="nextQuestion()">é€²å…¥ä¸‹ä¸€éšæ®µ â”</button>
    </div>

    <div id="result-screen" class="result-screen">
        <div class="badge" id="result-badge">ğŸ†</div>
        <h2 style="color: #444; margin-bottom: 10px; font-size: 2em;">è¦åŠƒä»»å‹™å®Œæˆï¼</h2>
        <p style="font-size: 1.2em; color: #666;">ä½ çš„ç¸½å¾—åˆ†æ˜¯ï¼š</p>
        <div class="score-display" id="final-score">0 / 100</div>
        <p id="result-comment" style="font-size: 1.4em; font-weight: bold; color: var(--secondary-color); margin-bottom: 40px;"></p>
        <button class="btn" onclick="location.reload()">é‡æ–°æŒ‘æˆ°è¨ˆç•«</button>
    </div>
</div>

<script>
    // é¡Œç›®è³‡æ–™åº« (é€£è²«æ•…äº‹ï¼šè€è¡—å€çš„é‡ç”Ÿ)
    const quizData = [
        {
            title: "éšæ®µä¸€ï¼šç¥ç§˜çš„å•Ÿå‹•è³‡é‡‘",
            image: "https://images.unsplash.com/photo-1554224155-8d04cb21cd6c?auto=format&fit=crop&w=800&q=80",
            story: "ä½ è¢«å¸‚é•·ä»»å‘½ç‚ºã€Œè€è¡—é‡ç”Ÿè¨ˆç•«ã€çš„ç¸½è¦åŠƒå¸«ã€‚å¸‚é•·äº¤çµ¦ä½ ä¸€å€‹ç¥ç¥•çš„ä¿éšªç®±ï¼Œè£¡é¢æ˜¯é€™æ¬¡çš„å•Ÿå‹•è³‡é‡‘ã€‚ä¿éšªç®±è£¡æ²’æœ‰éˆ”ç¥¨ï¼Œåªæœ‰ä¸‰ç¨®é¡è‰²çš„å¯¶çŸ³ä»£å¹£ï¼š<br>â— ç´…å¯¶çŸ³ï¼šä»£è¡¨ 1000 å…ƒ<br>â— è—å¯¶çŸ³ï¼šä»£è¡¨ 100 å…ƒ<br>â— ç¶ å¯¶çŸ³ï¼šä»£è¡¨ 10 å…ƒ<br>ä½ æ¸…é»å¾Œç™¼ç¾ï¼Œç®±å­è£¡å…±æœ‰ 8 é¡†ç´…å¯¶çŸ³ã€15 é¡†è—å¯¶çŸ³å’Œ 4 é¡†ç¶ å¯¶çŸ³ã€‚",
            questions: [
                { text: "è«‹å…ˆè¨ˆç®—æ‰€æœ‰çš„ã€Œè—å¯¶çŸ³ã€ç¸½å…±ä»£è¡¨å¤šå°‘åƒ¹å€¼ï¼Ÿ", answer: "1500", type: "number" },
                { text: "å°‡æ‰€æœ‰å¯¶çŸ³åŠ ç¸½ï¼Œè«‹å•å¸‚é•·çµ¦ä½ çš„å•Ÿå‹•è³‡é‡‘ç¸½å…±æœ‰å¤šå°‘å…ƒï¼Ÿ", answer: "9540", type: "number" },
                { text: "å¦‚æœå°‡é€™äº›è³‡é‡‘æ›æˆæœ€å°‘æ•¸é‡çš„éˆ”ç¥¨èˆ‡ç¡¬å¹£ï¼Œä½ æœƒæ‹¿åˆ°å¹¾å¼µåƒå…ƒéˆ”ç¥¨ï¼Ÿ", answer: "9", type: "number" }
            ]
        },
        {
            title: "éšæ®µäºŒï¼šæ•´ä¿®è¡—é“çš„é•·åº¦",
            image: "https://images.unsplash.com/photo-1465447142348-e9952c393450?auto=format&fit=crop&w=800&q=80",
            story: "è³‡é‡‘åˆ°ä½å¾Œï¼Œç¬¬ä¸€æ­¥æ˜¯é‡æ–°é‹ªè¨­è€è¡—çš„çŸ³æ¿è·¯ã€‚è€è¡—åˆ†ç‚ºã€Œæ±æ®µã€å’Œã€Œè¥¿æ®µã€ã€‚<br>æ¸¬é‡éšŠå›å ±æ•¸æ“šï¼š<br>â— æ±æ®µé•·åº¦ï¼š3 å…¬é‡Œ 50 å…¬å°ºã€‚<br>â— è¥¿æ®µé•·åº¦ï¼šæ¯”æ±æ®µçŸ­äº† 800 å…¬å°ºã€‚",
            questions: [
                { text: "è«‹å°‡ã€Œæ±æ®µã€çš„é•·åº¦æ›ç®—æˆå…¬å°ºã€‚", answer: "3050", type: "number" },
                { text: "è«‹è¨ˆç®—ã€Œè¥¿æ®µã€çš„é•·åº¦æ˜¯å¤šå°‘å…¬å°ºï¼Ÿ", answer: "2250", type: "number" },
                { text: "æ•´æ¢è€è¡—é‡æ–°é‹ªè¨­ï¼Œç¸½å…±éœ€è¦é‹ªè¨­å¤šé•·çš„è·é›¢ï¼Ÿè«‹ä»¥å…¬å°ºå›ç­”ã€‚", answer: "5300", type: "number" }
            ]
        },
        {
            title: "éšæ®µä¸‰ï¼šè·¯ç‡ˆçš„é–“éš”é‚è¼¯",
            image: "https://images.unsplash.com/photo-1506158669146-619067262a00?auto=format&fit=crop&w=800&q=80",
            story: "é“è·¯é‹ªå¥½å¾Œï¼Œè¦åœ¨ç­†ç›´çš„ã€Œä¸­å¤®å¤§é“ã€æ—å®‰è£å¾©å¤è·¯ç‡ˆã€‚é€™æ¢å¤§é“å…¨é•· 400 å…¬å°ºã€‚<br>è¦åŠƒè¦å‰‡ï¼š<br>1. åªè¦åœ¨å¤§é“çš„ã€Œå…¶ä¸­ä¸€å´ã€å®‰è£è·¯ç‡ˆã€‚<br>2. æ¯éš” 20 å…¬å°ºå®‰è£ä¸€ç›ã€‚<br>3. é ­å°¾å…©ç«¯éƒ½è¦å®‰è£ã€‚",
            questions: [
                { text: "é€™æ¢ 400 å…¬å°ºçš„å¤§é“ï¼Œå¦‚æœæ¯ 20 å…¬å°ºåˆ†ä¸€æ®µï¼Œç¸½å…±è¢«åˆ†æˆäº†å¹¾å€‹é–“éš”ï¼Ÿ", answer: "20", type: "number" },
                { text: "æ ¹æ“šã€Œé ­å°¾éƒ½è¦è£ã€çš„è¦å‰‡ï¼Œè«‹å•é€™æ¢è·¯çš„ä¸€å´ç¸½å…±éœ€è¦å®‰è£å¹¾ç›è·¯ç‡ˆï¼Ÿ", answer: "21", type: "number" },
                { text: "å» å•†å ±åƒ¹ä¸€ç›è·¯ç‡ˆ 3000 å…ƒï¼Œå„ªæƒ æ´»å‹•è²· 10 ç›é€ 1 ç›ã€‚è«‹å•è¦ç²å¾— 21 ç›è·¯ç‡ˆï¼Œæœ€å°‘éœ€è¦æ”¯ä»˜å¤šå°‘éŒ¢ï¼Ÿ", answer: "60000", type: "number", note: "æ€è€ƒï¼šè²·20ç›æœƒé€2ç›ï¼Œç¸½å…±æ‹¿åˆ°22ç›ï¼Œè¶³å¤ ä½¿ç”¨ã€‚æ‰€ä»¥åªéœ€ä»˜20ç›çš„éŒ¢ã€‚" }
            ]
        },
        {
            title: "éšæ®µå››ï¼šæ™¯è§€æ± çš„å®¹é‡",
            image: "https://images.unsplash.com/photo-1516653980844-c6820de3e905?auto=format&fit=crop&w=800&q=80",
            story: "å»£å ´ä¸­å¤®è¦ä¿®å¾©ä¸€åº§è’å»¢çš„å™´æ°´æ± ã€‚é€™åº§æ± å­çš„ç¸½å®¹é‡æ˜¯ 5 å…¬å‡ã€‚<br>ç¾åœ¨æ± å­è£¡æ˜¯ç©ºçš„ï¼Œä½ è¦åˆ©ç”¨å…©å€‹æ°´æ¡¶ä¾†æ³¨æ°´ï¼š<br>â— å¤§æ¡¶ï¼šå®¹é‡ 1500 æ¯«å‡ã€‚<br>â— å°æ¡¶ï¼šå®¹é‡ 800 æ¯«å‡ã€‚<br>ä½ å…ˆå€’å…¥äº† 2 æ¬¡å¤§æ¡¶çš„æ°´ï¼Œæ¥è‘—å†å€’å…¥ 2 æ¬¡å°æ¡¶çš„æ°´ã€‚",
            questions: [
                { text: "è«‹å• 2 æ¬¡å¤§æ¡¶çš„æ°´ï¼Œç¸½å…±æ˜¯å¤šå°‘æ¯«å‡ï¼Ÿ", answer: "3000", type: "number" },
                { text: "åŠ ä¸Š 2 æ¬¡å°æ¡¶çš„æ°´å¾Œï¼Œæ± å­è£¡ç¾åœ¨ç¸½å…±æœ‰å¤šå°‘æ¯«å‡çš„æ°´ï¼Ÿ", answer: "4600", type: "number" },
                { text: "æ­¤æ™‚ï¼Œæ± å­é‚„éœ€è¦å†åŠ å…¥å¤šå°‘æ¯«å‡çš„æ°´æ‰æœƒå‰›å¥½å…¨æ»¿ï¼Ÿ", answer: "400", type: "number" }
            ]
        },
        {
            title: "éšæ®µäº”ï¼šå»ºæçš„é‡é‡é™åˆ¶",
            image: "https://images.unsplash.com/photo-1586864387967-d02ef85d93e8?auto=format&fit=crop&w=800&q=80",
            story: "å»ºè¨­åˆ°äº†æœ€å¾Œéšæ®µï¼Œè²¨è»Šè¦é‹é€è£é£¾ç”¨çš„çŸ³ç£šã€‚é€™è¼›å°è²¨è»Šçš„è¼‰é‡é™åˆ¶æ˜¯ 3000 å…¬æ–¤ã€‚<br>å€‰åº«è£¡æœ‰ä¸‰ç¨®è²¨ç‰©ï¼š<br>A è²¨æ£§æ¿ï¼šé‡ 1 å…¬æ–¤ 500 å…¬å…‹<br>B è²¨æ£§æ¿ï¼šé‡ 1200 å…¬æ–¤<br>C è²¨æ£§æ¿ï¼šé‡ 950 å…¬æ–¤",
            questions: [
                { text: "è«‹å…ˆå°‡ A è²¨æ£§æ¿çš„é‡é‡æ›ç®—æˆã€Œå…¬å…‹ã€ã€‚", answer: "1500", type: "number" },
                { text: "è‹¥å¸æ©Ÿæƒ³ä¸€æ¬¡è¼‰èµ° B å’Œ C å…©å€‹æ£§æ¿ï¼Œè«‹å•å®ƒå€‘çš„ç¸½é‡é‡æ˜¯å¤šå°‘å…¬æ–¤ï¼Ÿ", answer: "2150", type: "number" },
                { text: "æ‰¿ä¸Šé¡Œï¼Œå¦‚æœè¼‰äº† B å’Œ C ä¹‹å¾Œï¼Œå¸æ©Ÿé‚„æƒ³å†æ”¾ä¸Šå¹¾å€‹é‡ 100 å…¬æ–¤çš„çŸ³åƒï¼Œåœ¨ä¸è¶…é‡çš„å‰æä¸‹ï¼Œæœ€å¤šèƒ½æ”¾å¹¾å€‹ï¼Ÿ", answer: "8", type: "number" }
            ]
        },
        {
            title: "éšæ®µå…­ï¼šé–‹å¹•è¡¨æ¼”çš„æ™‚é–“è¡¨",
            image: "https://images.unsplash.com/photo-1533174072545-e8d4aa97edf9?auto=format&fit=crop&w=800&q=80",
            story: "è€è¡—çµ‚æ–¼å®Œå·¥ï¼Œè¦èˆ‰è¾¦é–‹å¹•æ…¶å…¸ï¼ä½ æ­£åœ¨å®‰æ’è¡¨æ¼”ç¯€ç›®è¡¨ã€‚<br>ç¬¬ä¸€å€‹ç¯€ç›®æ˜¯ã€Œèˆç…è¡¨æ¼”ã€ï¼Œé è¨ˆåœ¨ä¸Šåˆ 10:30 é–‹å§‹ï¼Œè¡¨æ¼”æ™‚é–“é•·é” 1 å°æ™‚ 40 åˆ†é˜ã€‚<br>è¡¨æ¼”çµæŸå¾Œï¼Œæœƒæœ‰ 20 åˆ†é˜çš„ä¸­å ´ä¼‘æ¯ï¼Œæ¥è‘—æ‰æ˜¯ã€Œå¸‚é•·è‡´è©ã€ã€‚",
            questions: [
                { text: "è«‹å•ã€Œèˆç…è¡¨æ¼”ã€çµæŸçš„æ™‚é–“æ˜¯å¹¾é»å¹¾åˆ†ï¼Ÿ", answer: "12:10", type: "text" },
                { text: "åŠ ä¸Šä¸­å ´ä¼‘æ¯æ™‚é–“ï¼Œè«‹å•ã€Œå¸‚é•·è‡´è©ã€é–‹å§‹çš„æ™‚é–“æ˜¯å¹¾é»å¹¾åˆ†ï¼Ÿ", answer: "12:30", type: "text" },
                { text: "å¦‚æœå¸‚é•·è‡´è©éœ€è¦ 45 åˆ†é˜ï¼Œè«‹å•æ•´å€‹æ´»å‹•æœƒåœ¨ä¸‹åˆ 1 é» 10 åˆ†ä¹‹å‰çµæŸå—ï¼Ÿ", answer: "ä¸æœƒ", type: "text", note: "12:30 + 45åˆ† = 13:15ï¼Œè¶…éäº† 13:10" }
            ]
        },
        {
            title: "éšæ®µä¸ƒï¼šç¾é£Ÿæ”¤ä½çš„é£²æ–™é…æ–¹",
            image: "https://images.unsplash.com/photo-1513558161293-cdaf765ed2fd?auto=format&fit=crop&w=800&q=80",
            story: "æ…¶å…¸ä¸Šæœ‰ä¸€å€‹ã€Œç‰¹èª¿æœæ±æ”¤ã€ã€‚è€é—†çš„ç¥•å¯†é…æ–¹å¦‚ä¸‹ï¼š<br>èª¿è£½ä¸€å£ºã€Œé»ƒé‡‘ç‰¹èª¿ã€éœ€è¦ï¼š<br>â— æŸ³æ©™æ±ï¼š1 å…¬å‡ 200 æ¯«å‡<br>â— é³³æ¢¨æ±ï¼š800 æ¯«å‡<br>â— æª¸æª¬æ±ï¼š50 æ¯«å‡<br>è€é—†ä»Šå¤©æº–å‚™äº†ä¸€å€‹å®¹é‡ 10 å…¬å‡çš„å¤§æ¡¶å­ï¼Œæƒ³è¦ä¸€æ¬¡èª¿è£½ 5 å£ºçš„é‡ã€‚",
            questions: [
                { text: "è«‹å•èª¿è£½ã€Œä¸€å£ºã€é»ƒé‡‘ç‰¹èª¿ï¼Œç¸½å…±æœƒæœ‰å¤šå°‘æ¯«å‡çš„æœæ±ï¼Ÿ", answer: "2050", type: "number" },
                { text: "è€é—†è¦ä¸€æ¬¡èª¿è£½ã€Œ5 å£ºã€ï¼Œè«‹å•ç¸½å…±éœ€è¦å¤šå°‘æ¯«å‡çš„æœæ±ï¼Ÿ", answer: "10250", type: "number" },
                { text: "è«‹å•è€é—†æº–å‚™çš„ 10 å…¬å‡å¤§æ¡¶å­ï¼Œè£å¾—ä¸‹é€™ 5 å£ºçš„é‡å—ï¼Ÿè‹¥è£ä¸ä¸‹ï¼Œæœƒæº¢å‡ºå¤šå°‘æ¯«å‡ï¼Ÿå¦‚æœè£å¾—ä¸‹è«‹å¡« 0ã€‚", answer: "250", type: "number" }
            ]
        },
        {
            title: "éšæ®µå…«ï¼šç´€å¿µå“çš„åŒ…è£é‚è¼¯",
            image: "https://images.unsplash.com/photo-1549465220-1a8b9238cd48?auto=format&fit=crop&w=800&q=80",
            story: "ç‚ºäº†æ„Ÿè¬éŠå®¢ï¼Œæœå‹™ä¸­å¿ƒæº–å‚™äº† 250 ä»½ç´€å¿µå“è¦ç™¼é€ã€‚<br>å·¥ä½œäººå“¡å°‡ç´€å¿µå“æ¯ 8 ä»½è£æˆä¸€ç®±ã€‚<br>è£å®Œæ‰€æœ‰å®Œæ•´çš„ç®±å­å¾Œï¼Œå‰©ä¸‹çš„ç´€å¿µå“å°±ç›´æ¥æ”¾åœ¨æ«ƒå°ä¸Šé€çµ¦å‰å¹¾ä½éŠå®¢ã€‚",
            questions: [
                { text: "è«‹å•é€™äº›ç´€å¿µå“æœ€å¤šå¯ä»¥è£æ»¿å¹¾ç®±ï¼Ÿ", answer: "31", type: "number" },
                { text: "è£ç®±å¾Œï¼Œé‚„å‰©ä¸‹å¹¾ä»½ç´€å¿µå“æ²’æœ‰è£é€²ç®±å­ï¼Ÿ", answer: "2", type: "number" },
                { text: "å¦‚æœæƒ³è¦å‰›å¥½æ¹Šæ»¿ 32 ç®±ï¼Œé‚„éœ€è¦å†è£œä¸Šå¹¾ä»½ç´€å¿µå“ï¼Ÿ", answer: "6", type: "number" }
            ]
        },
        {
            title: "éšæ®µä¹ï¼šç…™ç«ç§€çš„ç™¼å°„é †åº",
            image: "https://images.unsplash.com/photo-1498931299472-f7a63a029047?auto=format&fit=crop&w=800&q=80",
            story: "æ™šä¸Šçš„é‡é ­æˆ²æ˜¯ç…™ç«ç§€ï¼ç…™ç«çš„ç™¼å°„ç·¨è™Ÿæœ‰ç‰¹æ®Šçš„è¦å¾‹ã€‚<br>æ“æ§é¢æ¿ä¸Šé¡¯ç¤ºè‘—å‰å››ç™¼ç…™ç«çš„ç·¨è™Ÿï¼š<br>ç¬¬1ç™¼ï¼š1050<br>ç¬¬2ç™¼ï¼š1100<br>ç¬¬3ç™¼ï¼š1150<br>ç¬¬4ç™¼ï¼š1200<br>ä½†æ˜¯ç¬¬ 7 ç™¼çš„æŒ‰éˆ•æ¨™ç±¤ç£¨æäº†ã€‚",
            questions: [
                { text: "è«‹å•é€™å€‹ç…™ç«ç·¨è™Ÿçš„è¦å¾‹ï¼Œæ˜¯æ¯ä¸€æ¬¡å¢åŠ å¤šå°‘ï¼Ÿ", answer: "50", type: "number" },
                { text: "è«‹æ¨ç®—ç¬¬ 5 ç™¼ç…™ç«çš„ç·¨è™Ÿæ˜¯å¤šå°‘ï¼Ÿ", answer: "1250", type: "number" },
                { text: "è«‹æ¨ç®—å‡ºç£¨æçš„ã€Œç¬¬ 7 ç™¼ã€ç…™ç«ç·¨è™Ÿæ˜¯å¤šå°‘ï¼Ÿ", answer: "1350", type: "number" }
            ]
        },
        {
            title: "éšæ®µåï¼šæœ€çµ‚çš„éŠå®¢äººæ•¸",
            image: "https://images.unsplash.com/photo-1517457373958-b7bdd4587205?auto=format&fit=crop&w=800&q=80",
            story: "æ´»å‹•åœ“æ»¿çµæŸï¼Œä½ æ˜¯æœ€æ£’çš„è¦åŠƒå¸«ï¼ç¾åœ¨è¦è¨ˆç®—ç¸½éŠå®¢äººæ•¸ã€‚<br>æ ¹æ“šå…¥å£è¨ˆæ•¸å™¨çš„ç´€éŒ„ï¼š<br>ä¸Šåˆé€²å ´ï¼š3450 äºº<br>ä¸‹åˆé€²å ´ï¼šæ¯”ä¸Šåˆå¤š 1200 äºº<br>æ™šä¸Šé€²å ´ï¼šæ¯”ä¸‹åˆå°‘ 500 äºº<br>è«‹å°å¿ƒè¨ˆç®—ï¼Œå› ç‚ºé€™æ˜¯å‘å¸‚é•·å ±å‘Šçš„é‡è¦æ•¸æ“šï¼",
            questions: [
                { text: "è«‹å•ã€Œä¸‹åˆã€é€²å ´çš„äººæ•¸æ˜¯å¤šå°‘äººï¼Ÿ", answer: "4650", type: "number" },
                { text: "è«‹å•ã€Œæ™šä¸Šã€é€²å ´çš„äººæ•¸æ˜¯å¤šå°‘äººï¼Ÿ", answer: "4150", type: "number" },
                { text: "è«‹å•æ•´å¤©æ´»å‹•ä¸‹ä¾†ï¼Œç¸½å…±æœ‰å¤šå°‘äººæ¬¡é€²å ´ï¼Ÿ", answer: "12250", type: "number" }
            ]
        }
    ];

    let currentSetIndex = 0;
    let score = 0;

    function loadQuiz() {
        const content = document.getElementById('quiz-content');
        const progressBar = document.getElementById('progress');
        const progressText = document.getElementById('progress-text');
        const set = quizData[currentSetIndex];

        // æ›´æ–°é€²åº¦æ¢
        const progressPercent = ((currentSetIndex) / quizData.length) * 100;
        progressBar.style.width = progressPercent + '%';
        progressText.innerText = `Mission ${currentSetIndex + 1}/${quizData.length}`;

        // è¼‰å…¥é¡Œç›® HTML
        let html = `
            <div class="scenario-box">
                <div class="scenario-image-container">
                    <img src="${set.image}" class="scenario-image" alt="æƒ…å¢ƒåœ–ç¤º" onerror="this.src='https://via.placeholder.com/800x400?text=Image+Load+Error'">
                </div>
                <div class="scenario-content">
                    <div class="scenario-header">
                        <div class="scenario-title">${set.title}</div>
                    </div>
                    ${set.story}
                </div>
            </div>
        `;

        set.questions.forEach((q, index) => {
            // é…åˆ†é¡¯ç¤ºé‚è¼¯
            let pts = 3;
            if (index === 2) pts = 4;

            html += `
                <div class="question-card" id="card-${index}">
                    <label class="question-text">
                        Q${index+1}. ${q.text} 
                        <span class="point-badge">${pts} åˆ†</span>
                    </label>
                    <input type="text" id="answer-${index}" placeholder="è«‹è¼¸å…¥ç­”æ¡ˆ..." autocomplete="off">
                    <div class="feedback" id="feedback-${index}"></div>
                </div>
            `;
        });

        content.innerHTML = html;
        document.getElementById('submit-btn').style.display = 'block';
        document.getElementById('next-btn').style.display = 'none';
        
        window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    // æ¸…ç†è¼¸å…¥å­—ä¸² (ç§»é™¤å–®ä½ã€ç©ºæ ¼ã€é€—è™Ÿ)
    function cleanInput(str) {
        if(!str) return "";
        let s = str.toString().replace(/\s+/g, ''); // ç§»é™¤ç©ºæ ¼
        s = s.replace(/ï¼Œ/g, ','); // å…¨å½¢é€—è™Ÿè½‰åŠå½¢
        s = s.replace(/(å…ƒ|å…¬å‡|æ¯«å‡|å…¬å°º|å…¬åˆ†|å…¬é‡Œ|å…¬æ–¤|å…¬å…‹|é»|äºº|ç®±|ç›|é¡†|å¼µ|å€‹|ç™¼|æ™‚|åˆ†|é»)/g, ''); // ç§»é™¤å¸¸è¦‹ä¸­æ–‡å–®ä½
        return s.toUpperCase();
    }

    function checkAnswers() {
        const set = quizData[currentSetIndex];
        
        set.questions.forEach((q, index) => {
            const inputEl = document.getElementById(`answer-${index}`);
            const userInput = inputEl.value;
            const feedbackEl = document.getElementById(`feedback-${index}`);
            
            const cleanedUserAnswer = cleanInput(userInput);
            const cleanedCorrectAnswer = cleanInput(q.answer);

            let isCorrect = false;
            // æª¢æŸ¥é‚è¼¯ï¼šç›´æ¥ç›¸ç­‰ æˆ– ç§»é™¤é€—è™Ÿå¾Œç›¸ç­‰
            if (cleanedUserAnswer === cleanedCorrectAnswer) {
                isCorrect = true;
            } 
            else if (cleanedUserAnswer.replace(/,/g, '') === cleanedCorrectAnswer.replace(/,/g, '')) {
                isCorrect = true;
            }
            // ç‰¹åˆ¥è™•ç†æ™‚é–“æ ¼å¼ (12:10)
            else if (q.type === 'text' && cleanedUserAnswer.replace(':', '') === cleanedCorrectAnswer.replace(':', '')) {
                isCorrect = true;
            }

            // é…åˆ†è¨ˆç®—
            let points = 3;
            if (index === 2) points = 4;

            if (isCorrect) {
                feedbackEl.innerHTML = `âœ… ç­”å°äº†ï¼ (+${points}åˆ†)`;
                feedbackEl.className = "feedback correct";
                feedbackEl.style.display = "block";
                score += points;
            } else {
                let noteHtml = q.note ? `<br><span style="font-size:0.9em; font-weight:normal; color:#666;">è§£æï¼š${q.note}</span>` : '';
                feedbackEl.innerHTML = `âŒ ç­”æ¡ˆæ˜¯ï¼š${q.answer}${noteHtml}`;
                feedbackEl.className = "feedback incorrect";
                feedbackEl.style.display = "block";
            }
            
            // é–å®šè¼¸å…¥æ¡†
            inputEl.disabled = true;
        });

        document.getElementById('submit-btn').style.display = 'none';
        document.getElementById('next-btn').style.display = 'block';
    }

    function nextQuestion() {
        currentSetIndex++;
        if (currentSetIndex < quizData.length) {
            loadQuiz();
        } else {
            showResult();
        }
    }

    function showResult() {
        document.getElementById('quiz-screen').style.display = 'none';
        document.getElementById('result-screen').style.display = 'block';
        
        const finalScoreEl = document.getElementById('final-score');
        const commentEl = document.getElementById('result-comment');
        const badgeEl = document.getElementById('result-badge');

        const maxScore = 100;
        finalScoreEl.innerText = `${score} / ${maxScore}`;

        if (score >= 90) {
            badgeEl.innerText = "ğŸ†";
            commentEl.innerText = "å¤ªç¥äº†ï¼ä½ æ˜¯é ‚å°–çš„åŸå¸‚è¦åŠƒå¤§å¸«ï¼";
        } else if (score >= 80) {
            badgeEl.innerText = "ğŸ¥‡";
            commentEl.innerText = "éå¸¸å„ªç§€ï¼è€è¡—å€å› ä½ è€Œé‡ç”Ÿï¼";
        } else if (score >= 60) {
            badgeEl.innerText = "ğŸ¥ˆ";
            commentEl.innerText = "åšå¾—ä¸éŒ¯ï¼å†ç´°å¿ƒä¸€é»æœƒæ›´å®Œç¾ï¼";
        } else {
            badgeEl.innerText = "ğŸ’ª";
            commentEl.innerText = "åˆ¥ç°å¿ƒï¼Œç´¯ç©ç¶“é©—ï¼Œä¸‹æ¬¡æœƒæ›´å¥½ï¼";
        }
    }

    // åˆå§‹åŒ–
    loadQuiz();

</script>

</body>

</html>
